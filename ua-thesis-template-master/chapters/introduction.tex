\chapter{Introduction}
\label{chapter:introduction}

The presence of wireless networks in everyday infrastructures has evolved beyond connectivity, due to their large presence and usage, it has become a reliable source of data. 
In a campus environment, the metadata
\footnote{Refers to data that describes the content, formats, or attributes of a data record or information resource, description by \citet{metadata}}
generated by user connections to the WiFi network, like the eduroam network, allows the somewhat precise localization of individuals, from here 
several indicators can be extracted such as room occupancy rates, the verification of class attendance, and the understanding of movement flows within the campus.

However, the extraction of statistical information from this raw data creates a significant difficulty between utility and privacy, namely the processing of raw connection logs exposes 
sensitive information to system administrators and potential attackers. 
Current security models protect the data at rest and during transit with encryption and hashing, but often leave it vulnerable during computation, where data needs to be in cleartext,
exposed in memory and to the \ac{os}, in order to be processed.

To resolve this, a paradigm known as confidential computing occurs, unlike privacy-preserving techniques that rely on obfuscation or anonymization, 
confidential computing uses \ac{tee}s to protect data. 
This ensures that only code that is authorized and authenticated can process data, without exposing it to the underlying infrastructure or privileged users.

\newpage

\section{Motivations}

The University of Aveiro possesses a large wireless infrastructure that generates continuous connection data whenever a user 
attempts to connect to an \ac{ap}. 
Since this infrastructure is already in place, it represents an opportunity to extract statistical indicators, 
such as room occupancy and attendance flows, without additional investment. 
However, this data remains unused due to the privacy risks associated with handling of the logs.

While \ac{sgx} offers the security required to use this information, applying it presents a challenge,  
the processing of large volumes of data within an enclave, since it is restricted by the memory limits of the \ac{epc}. 

Standard \ac{sgx} implementations lack efficient native swapping for large datasets, meaning that an application would 
quickly run out of available memory in the enclave. 
Therefore, the primary motivation of this work is to bridge the gap between the security of \ac{tee}s and the processing of large volume data. 
This requires the development of an architecture capable of managing memory efficiently.

\section{Objectives}

The main goal of this dissertation is to deliver a \ac{poc} of an Intel \ac{sgx} implementation that executes authorized applications to produce aggregated data from 
raw WiFi logs. This process aims to generate statistical data for the university without compromising the anonymity of WiFi users or revealing any sensitive information.
 
However, extracting and processing these indicators in a trusted environment presents technical challenges, like the limits of the secure memory 
available to an enclave and the lack of efficient swapping due to security reasons. 
The execution environment should then provide essential primitives for various programs, such as memory usage monitors, the secure ingestion 
of encrypted data from external sources, and the production of results for various destinations, these mechanisms should include an equivalent 
to a swap area to allow the processing of large datasets despite the internal enclave memory, or a snapshot capability to allow discontinuous processing.

In order to explore a solution to this problem, the current work focuses on the steps below:
\begin{enumerate}
    \item Elaboration of the state-of-the-art regarding WiFi-based indoor positioning, the application of \ac{sgx} in this domain, 
        and techniques for large-scale data processing. 
        
    \item Definition of a generic architecture capable of processing large volumes of data, supporting simultaneous processing or over extended periods.
    
    \item Development and documentation of a \ac{poc} application to demonstrate the proposed architecture.
    
    \item Experimental validation of the system using raw WiFi logs to extract useful aggregated statistical indicators, verifying the accuracy of the results.
\end{enumerate}

\section{Outline}
Chapter 2 provides necessary context for the dissertation by introducing the concept of sensitive data and the risks associated with processing it. 
It also covers an overview of \ac{tee}s and \ac{tc} concepts, elaborating an analysis of modern technologies including ARM TrustZone, AMD ac{sev} and Intel \ac{tdx}. 
Furthermore, it details the architecture of Intel \ac{sgx}, the core technology of this thesis, covering its lifecycle, architecture, components, security mechanisms and performance limitations.

Chapter 3 reviews the state-of-the-art in indoor positioning systems, focusing on methodologies utilizing WiFi infrastructure. 
It examines the privacy implications found in the literature, categorized from the omission of mechanisms to data minimization and opt-in models. 
Additionally, this chapter analyzes previous applications of SGX in location-based services and reviews strategies for processing large-scale data within enclaves.



