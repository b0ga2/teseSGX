\chapter{Context}
\label{chapter:context}

The present chapter aims to provide a comprehensive understanding of the technical underpinnings of 
\ac{sgx} and the protection of sensitive data.
It begins by introducing the concept of sensitive data, followed by \ac{tee}s, defining their role and outlining their core advantages. 
Following this, the chapter compares prominent privacy-preserving technologies, analyzing 
the technical distinctions between ARM TrustZone, AMD SEV, and Intel \ac{sgx}. 
The discussion then focuses on Intel \ac{sgx}, detailing its architecture, workflow, and security mechanisms. 
Finally, the chapter addresses the technical challenges and potential attacks on \ac{sgx}, 
concluding with observations on data processing within these secure enclaves

\section{Sensitive Data}

Driven by technological advances and institutional needs, nearly all
buildings are now equipped with internet access provided through 
\ac{ap}. These allow for the determination of user location with a reasonable degree 
of precision, due to the need of the user to authenticate to a specific AP 
in order to use the network.

Although useful for generating interesting statistics, indoor positioning and presence detection
rely on the processing of sensitive information, due to it's high level of detail 
and it's potential to uniquely identify individuals.

The aggregation of this data creates a risk of linkability, allowing otherwise anonymous 
location traces to be cross-referenced with external records, such as class or work schedules. 
This process effectively de-anonymizes users, subjecting them to several risks, 
which constitutes a direct violation of their right to privacy.

Example of sensitive information used for indoor location mentioned throughout this document:

\begin{itemize}
    \item \textbf{\ac{mac} Address:} A persistent hardware identifier assigned to the network interface controller. 
    In Wi-Fi tracking, this serves as a static fingerprint that uniquely identifies a user's device across different sessions and locations.
    \item \textbf{\ac{uu}:} The unique user identifier (such as a student ID, employee username, or email) 
    required for network authentication.
    \item \textbf{Connection Logs:} Time records containing precise association and disassociation timestamps,
    these allow for the reconstruction of a user's daily routine, duration of stay, and punctuality patterns.
    \item \textbf{Spatial Hierarchy:} Detailed topological data classifying location from macro to micro levels.
    \item \textbf{Visual and Biometric Data:} In systems utilizing optical sensors, raw data includes high-resolution images 
    or video feeds capable of revealing biometric features and behavioral signatures.
\end{itemize}

\section{Trusted Execution Environments (TEEs)}
Definir Trusted Computing

Definição de TEE (isolamento de código e dados).

Distinguir entre hardware e software

Propriedades principais: Confidencialidade e Integridade.

Diferença entre o ambiente não confiavel e o TEE.

\section{TEE Technologies}
ARM TrustZone

AMD SEV

Intel TDX

Maybe justificar porquê o SGX, se bem que estava no titulo da tese, não escolhi nada

\section{Intel Software Guard Extensions (SGX)}
    \subsection{Architecture and Workflow}
    Como funcemina:

    Explicar o conceito de Enclaves.

    Explicar a divisão da memória (EPC - Enclave Page Cache).

    Mecanismo de ECalls e OCalls (entrar e sair do enclave e comunicação com o mundo "inseguro").

    \subsection{Security Mechanisms: Attestation and Sealing}
    
    Remote Attestation: Como provar que o código é legítimo 

    Sealing: Como guardar dados cifrados no disco.

    \subsection{Relevance to Privacy and Preserving Analytics}
    Explicar por que razão o SGX é bom para processar dados sensíveis

\section{Technical Challenges: Memory Limitations in SGX}

    \subsection{The Enclave Page Cache (EPC) Bottleneck}
    Explicar que a memória segura é limitada, ver slides para mais detalhes


\section{Attacks on SGX}

Pode ser interessante mencionar alguns ataques conhecidos ao SGX
Não sei se isto deveria estar aqui ou no 


\section{Data Processing on SGX}

Como faz parte das dificuldades da tese, talvez seja interessante ter uma parte relacionad com isto


